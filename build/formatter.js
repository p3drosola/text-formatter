!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.formatter=e()}}(function(){return function e(t,r,s){function o(n,i){if(!r[n]){if(!t[n]){var c="function"==typeof require&&require;if(!i&&c)return c(n,!0);if(a)return a(n,!0);throw new Error("Cannot find module '"+n+"'")}var l=r[n]={exports:{}};t[n][0].call(l.exports,function(e){var r=t[n][1][e];return o(r?r:e)},l,l.exports,e,t,r,s)}return r[n].exports}for(var a="function"==typeof require&&require,n=0;n<s.length;n++)o(s[n]);return o}({1:[function(e,t){var r=e("./src/formatter");r.use(e("./src/plugins/sanitize"),e("./src/plugins/text")),t.exports=r},{"./src/formatter":4,"./src/plugins/sanitize":5,"./src/plugins/text":6}],2:[function(e,t,r){var s={},o=1,a=2,n=4,i=8,c=16,l=64,u=128,p=function(){var e=["rgb(?:\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)|a\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0(?:\\.\\d+)?|\\.\\d+|1(?:\\.0+)?|0|\\d+(?:\\.\\d+)?%)) *\\)"],t=[/^ *$/i,RegExp("^ *\\s*"+e[0]+" *$","i"),RegExp("^ *(?:\\s*"+e[0]+"|(?:\\s*"+e[0]+")?)+ *$","i")],r=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["-moz-inline-box","-moz-inline-stack","block","inline","inline-block","inline-table","list-item","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["armenian","circle","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["-moz-pre-wrap","-o-pre-wrap","-pre-wrap","nowrap","pre","pre-line","pre-wrap"],["dashed","dotted","double","groove","outset","ridge","solid"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["border-box","contain","content-box","cover","padding-box"],["Courier New","cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["high","low","x-high","x-low"],["absolute","relative","static"],["capitalize","lowercase","uppercase"],["child","female","male"],["bidi-override","embed"],["bottom","top"],["clip","ellipsis"],["continuous","digits"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["code"],["collapse"],["fixed"],["hidden"],["inherit"],["inset"],["invert"],["justify"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["transparent"],["visible"]];return{"-moz-border-radius":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[36]]},"-moz-border-radius-bottomleft":{cssExtra:t[0],cssPropBits:5},"-moz-border-radius-bottomright":{cssExtra:t[0],cssPropBits:5},"-moz-border-radius-topleft":{cssExtra:t[0],cssPropBits:5},"-moz-border-radius-topright":{cssExtra:t[0],cssPropBits:5},"-moz-box-shadow":{cssExtra:t[2],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},"-moz-opacity":{cssPropBits:1,cssLitGroup:[r[47]]},"-moz-outline":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[49],r[52],r[54]]},"-moz-outline-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[49]]},"-moz-outline-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"-moz-outline-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"-o-text-overflow":{cssPropBits:0,cssLitGroup:[r[25]]},"-webkit-border-bottom-left-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-border-bottom-right-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[36]]},"-webkit-border-radius-bottom-left":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius-bottom-right":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius-top-left":{cssExtra:t[0],cssPropBits:5},"-webkit-border-radius-top-right":{cssExtra:t[0],cssPropBits:5},"-webkit-border-top-left-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-border-top-right-radius":{cssExtra:t[0],cssPropBits:5},"-webkit-box-shadow":{cssExtra:t[2],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},azimuth:{cssPropBits:5,cssLitGroup:[r[6],r[30],r[42],r[47]]},background:{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[r[0],r[14],r[17],r[24],r[30],r[35],r[36],r[38],r[42],r[45],r[47],r[51],r[54],r[57],r[58],r[62]]},"background-attachment":{cssExtra:t[0],cssPropBits:0,cssLitGroup:[r[35],r[45],r[51],r[58]]},"background-color":{cssExtra:t[1],cssPropBits:130,cssLitGroup:[r[0],r[47],r[62]]},"background-image":{cssExtra:t[0],cssPropBits:16,cssLitGroup:[r[35],r[54]]},"background-position":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[24],r[30],r[35],r[42]]},"background-repeat":{cssExtra:t[0],cssPropBits:0,cssLitGroup:[r[17],r[35],r[57]]},border:{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-bottom":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-bottom-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-bottom-left-radius":{cssExtra:t[0],cssPropBits:5},"border-bottom-right-radius":{cssExtra:t[0],cssPropBits:5},"border-bottom-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-collapse":{cssPropBits:0,cssLitGroup:[r[44],r[47],r[59]]},"border-color":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){1,4} *$","i"),cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-left":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-left-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-left-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-left-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-radius":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[36]]},"border-right":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-right-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-right-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-right-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-spacing":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[47]]},"border-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-top":{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[52],r[54],r[62]]},"border-top-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[62]]},"border-top-left-radius":{cssExtra:t[0],cssPropBits:5},"border-top-right-radius":{cssExtra:t[0],cssPropBits:5},"border-top-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"border-top-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},"border-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},bottom:{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"box-shadow":{cssExtra:t[2],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},"caption-side":{cssPropBits:0,cssLitGroup:[r[24],r[47]]},clear:{cssPropBits:0,cssLitGroup:[r[30],r[40],r[47],r[54]]},clip:{cssExtra:/^ *\s*rect\(\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto) *\) *$/i,cssPropBits:0,cssLitGroup:[r[38],r[47]]},color:{cssExtra:t[1],cssPropBits:130,cssLitGroup:[r[0],r[47]]},content:{cssPropBits:8,cssLitGroup:[r[54],r[55]]},"counter-increment":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[47],r[54]]},"counter-reset":{cssExtra:t[0],cssPropBits:5,cssLitGroup:[r[47],r[54]]},cue:{cssPropBits:16,cssLitGroup:[r[47],r[54]]},"cue-after":{cssPropBits:16,cssLitGroup:[r[47],r[54]]},"cue-before":{cssPropBits:16,cssLitGroup:[r[47],r[54]]},cursor:{cssExtra:t[0],cssPropBits:144,cssLitGroup:[r[1],r[35],r[38],r[47]]},direction:{cssPropBits:0,cssLitGroup:[r[31],r[47]]},display:{cssPropBits:32,cssLitGroup:[r[2],r[47],r[54]]},elevation:{cssPropBits:5,cssLitGroup:[r[13],r[47]]},"empty-cells":{cssPropBits:0,cssLitGroup:[r[27],r[47]]},filter:{cssExtra:/^ *(?:\s*alpha\(\s*opacity\s*=\s*(?:0|\d+(?:\.\d+)?%|[+\-]?\d+(?:\.\d+)?) *\))+ *$/i,cssPropBits:32},"float":{cssAlternates:["cssFloat","styleFloat"],cssPropBits:32,cssLitGroup:[r[30],r[47],r[54]]},font:{cssExtra:t[0],cssPropBits:9,cssLitGroup:[r[4],r[7],r[11],r[15],r[29],r[35],r[36],r[47],r[52],r[55],r[60]]},"font-family":{cssExtra:t[0],cssPropBits:8,cssLitGroup:[r[15],r[35],r[47]]},"font-size":{cssPropBits:1,cssLitGroup:[r[7],r[47],r[52]]},"font-stretch":{cssPropBits:0,cssLitGroup:[r[5],r[55]]},"font-style":{cssPropBits:0,cssLitGroup:[r[29],r[47],r[55]]},"font-variant":{cssPropBits:0,cssLitGroup:[r[47],r[55],r[60]]},"font-weight":{cssPropBits:0,cssLitGroup:[r[4],r[47],r[55]]},height:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},left:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},"letter-spacing":{cssPropBits:5,cssLitGroup:[r[47],r[55]]},"line-height":{cssPropBits:1,cssLitGroup:[r[47],r[55]]},"list-style":{cssPropBits:16,cssLitGroup:[r[3],r[28],r[47],r[54]]},"list-style-image":{cssPropBits:16,cssLitGroup:[r[47],r[54]]},"list-style-position":{cssPropBits:0,cssLitGroup:[r[28],r[47]]},"list-style-type":{cssPropBits:0,cssLitGroup:[r[3],r[47],r[54]]},margin:{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-bottom":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-left":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-right":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"margin-top":{cssPropBits:5,cssLitGroup:[r[38],r[47]]},"max-height":{cssPropBits:1,cssLitGroup:[r[38],r[47],r[54]]},"max-width":{cssPropBits:1,cssLitGroup:[r[38],r[47],r[54]]},"min-height":{cssPropBits:1,cssLitGroup:[r[38],r[47]]},"min-width":{cssPropBits:1,cssLitGroup:[r[38],r[47]]},opacity:{cssPropBits:33,cssLitGroup:[r[47]]},outline:{cssExtra:t[1],cssPropBits:7,cssLitGroup:[r[0],r[9],r[34],r[46],r[47],r[48],r[49],r[52],r[54]]},"outline-color":{cssExtra:t[1],cssPropBits:2,cssLitGroup:[r[0],r[47],r[49]]},"outline-style":{cssPropBits:0,cssLitGroup:[r[9],r[46],r[47],r[48],r[54]]},"outline-width":{cssPropBits:5,cssLitGroup:[r[34],r[47],r[52]]},overflow:{cssPropBits:32,cssLitGroup:[r[38],r[46],r[47],r[58],r[63]]},"overflow-x":{cssPropBits:0,cssLitGroup:[r[32],r[38],r[46],r[58],r[63]]},"overflow-y":{cssPropBits:0,cssLitGroup:[r[32],r[38],r[46],r[58],r[63]]},padding:{cssPropBits:1,cssLitGroup:[r[47]]},"padding-bottom":{cssPropBits:33,cssLitGroup:[r[47]]},"padding-left":{cssPropBits:33,cssLitGroup:[r[47]]},"padding-right":{cssPropBits:33,cssLitGroup:[r[47]]},"padding-top":{cssPropBits:33,cssLitGroup:[r[47]]},"page-break-after":{cssPropBits:0,cssLitGroup:[r[30],r[37],r[38],r[39],r[47]]},"page-break-before":{cssPropBits:0,cssLitGroup:[r[30],r[37],r[38],r[39],r[47]]},"page-break-inside":{cssPropBits:0,cssLitGroup:[r[38],r[39],r[47]]},pause:{cssPropBits:5,cssLitGroup:[r[47]]},"pause-after":{cssPropBits:5,cssLitGroup:[r[47]]},"pause-before":{cssPropBits:5,cssLitGroup:[r[47]]},pitch:{cssPropBits:5,cssLitGroup:[r[19],r[47],r[52]]},"pitch-range":{cssPropBits:5,cssLitGroup:[r[47]]},"play-during":{cssExtra:t[0],cssPropBits:16,cssLitGroup:[r[38],r[47],r[53],r[54],r[57]]},position:{cssPropBits:32,cssLitGroup:[r[20],r[47]]},quotes:{cssExtra:t[0],cssPropBits:8,cssLitGroup:[r[47],r[54]]},richness:{cssPropBits:5,cssLitGroup:[r[47]]},right:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},speak:{cssPropBits:0,cssLitGroup:[r[47],r[54],r[55],r[61]]},"speak-header":{cssPropBits:0,cssLitGroup:[r[37],r[47],r[56]]},"speak-numeral":{cssPropBits:0,cssLitGroup:[r[26],r[47]]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[r[43],r[47],r[54]]},"speech-rate":{cssPropBits:5,cssLitGroup:[r[12],r[47],r[52]]},stress:{cssPropBits:5,cssLitGroup:[r[47]]},"table-layout":{cssPropBits:0,cssLitGroup:[r[38],r[45],r[47]]},"text-align":{cssPropBits:0,cssLitGroup:[r[30],r[42],r[47],r[50]]},"text-decoration":{cssPropBits:0,cssLitGroup:[r[18],r[47],r[54]]},"text-indent":{cssPropBits:5,cssLitGroup:[r[47]]},"text-overflow":{cssPropBits:0,cssLitGroup:[r[25]]},"text-shadow":{cssExtra:t[2],cssPropBits:7,cssLitGroup:[r[0],r[35],r[48],r[54]]},"text-transform":{cssPropBits:0,cssLitGroup:[r[21],r[47],r[54]]},"text-wrap":{cssPropBits:0,cssLitGroup:[r[33],r[54],r[55]]},top:{cssPropBits:37,cssLitGroup:[r[38],r[47]]},"unicode-bidi":{cssPropBits:0,cssLitGroup:[r[23],r[47],r[55]]},"vertical-align":{cssPropBits:5,cssLitGroup:[r[10],r[24],r[47]]},visibility:{cssPropBits:32,cssLitGroup:[r[44],r[46],r[47],r[63]]},"voice-family":{cssExtra:t[0],cssPropBits:8,cssLitGroup:[r[22],r[35],r[47]]},volume:{cssPropBits:1,cssLitGroup:[r[16],r[47],r[52]]},"white-space":{cssPropBits:0,cssLitGroup:[r[8],r[47],r[55]]},width:{cssPropBits:33,cssLitGroup:[r[38],r[47]]},"word-spacing":{cssPropBits:5,cssLitGroup:[r[47],r[55]]},"word-wrap":{cssPropBits:0,cssLitGroup:[r[41],r[55]]},"z-index":{cssPropBits:69,cssLitGroup:[r[38],r[47]]},zoom:{cssPropBits:1,cssLitGroup:[r[55]]}}}();"undefined"!=typeof s&&(s.cssSchema=p);var d,h;!function(){function e(e){var t=parseInt(e.substring(1),16);return t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):t==t?String.fromCharCode(t):e[1]<" "?"":e[1]}function t(e,t){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,t)+'"'}function r(e){return o[e]||(o[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function s(e){return a[e]||(a[e]=("">e?"%0":"%")+e.charCodeAt(0).toString(16))}var o={"\\":"\\\\"},a={"\\":"%5c"},n="[\\t\\n\\f ]",i=n+"*",c="[\\n\\f]",l="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+l,p="[0-9a-fA-F]{1,6}"+n+"?",m="(?:"+p+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+l+")",f="\\\\"+m,g="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+u+"|"+f+")",b="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]",E="\"(?:'|"+b+')*"|\'(?:"|'+b+")*'",L="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)",y="(?:[a-zA-Z_]|"+u+"|"+f+")",v="(?:[a-zA-Z0-9_-]|"+u+"|"+f+")",T="-?"+y+v+"*",P="(?:@?-?"+y+"|#)"+v+"*",w=L+"(?:%|"+T+")?",x="url[(]"+i+"(?:"+E+"|"+g+"*)"+i+"[)]",M="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?",B="<!--",A="-->",G=n+"+",_="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)",k="(?!url[(])"+T+"[(]",C="[~|^$*]=",H="[^\"'\\\\/]|/(?![/*])",S="\\uFEFF",R=new RegExp([S,M,x,k,P,E,w,B,A,G,_,C,H].join("|"),"gi");h=function(t){return t.replace(new RegExp("\\\\(?:"+m+"|"+c+")","g"),e)},d=function(e){e=""+e;for(var o=e.replace(/\r\n?/g,"\n").match(R)||[],a=0,n=" ",c=0,l=o.length;l>c;++c){var u=h(o[c]),p=u.length,d=u.charCodeAt(0);u=d=='"'.charCodeAt(0)||d=="'".charCodeAt(0)?t(u.substring(1,p-1),r):d=="/".charCodeAt(0)&&p>1||"\\"==u||u==A||u==B||"ï»¿"==u||d<=" ".charCodeAt(0)?" ":/url\(/i.test(u)?"url("+t(u.replace(new RegExp("^url\\("+i+"[\"']?|[\"']?"+i+"\\)$","gi"),""),s)+")":u,(n!=u||" "!=u)&&(o[a++]=n=u)}return o.length=a,o}}(),"undefined"!=typeof s&&(s.lexCss=d,s.decodeCss=h);var m=function(){function e(e){var t=(""+e).match(h);return t?new c(l(t[1]),l(t[2]),l(t[3]),l(t[4]),l(t[5]),l(t[6]),l(t[7])):null}function t(e,t,a,n,i,l,u){var p=new c(s(e,m),s(t,m),r(a),n>0?n.toString():null,s(i,f),null,r(u));return l&&("string"==typeof l?p.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,o)):p.setAllParameters(l)),p}function r(e){return"string"==typeof e?encodeURIComponent(e):null}function s(e,t){return"string"==typeof e?encodeURI(e).replace(t,o):null}function o(e){var t=e.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}function a(e){return e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}function n(e){if(null===e)return null;for(var t,r=a(e),s=p;(t=r.replace(s,"$1"))!=r;r=t);return r}function i(e,t){var r=e.clone(),s=t.hasScheme();s?r.setRawScheme(t.getRawScheme()):s=t.hasCredentials(),s?r.setRawCredentials(t.getRawCredentials()):s=t.hasDomain(),s?r.setRawDomain(t.getRawDomain()):s=t.hasPort();var o=t.getRawPath(),a=n(o);if(s)r.setPort(t.getPort()),a=a&&a.replace(d,"");else if(s=!!o){if(47!==a.charCodeAt(0)){var i=n(r.getRawPath()||"").replace(d,""),c=i.lastIndexOf("/")+1;a=n((c?i.substring(0,c):"")+n(o)).replace(d,"")}}else a=a&&a.replace(d,""),a!==o&&r.setRawPath(a);return s?r.setRawPath(a):s=t.hasQuery(),s?r.setRawQuery(t.getRawQuery()):s=t.hasFragment(),s&&r.setRawFragment(t.getRawFragment()),r}function c(e,t,r,s,o,a,n){this.scheme_=e,this.credentials_=t,this.domain_=r,this.port_=s,this.path_=o,this.query_=a,this.fragment_=n,this.paramCache_=null}function l(e){return"string"==typeof e&&e.length>0?e:null}var u=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),p=new RegExp(u),d=/^(?:\.\.\/)*(?:\.\.$)?/;c.prototype.toString=function(){var e=[];return null!==this.scheme_&&e.push(this.scheme_,":"),null!==this.domain_&&(e.push("//"),null!==this.credentials_&&e.push(this.credentials_,"@"),e.push(this.domain_),null!==this.port_&&e.push(":",this.port_.toString())),null!==this.path_&&e.push(this.path_),null!==this.query_&&e.push("?",this.query_),null!==this.fragment_&&e.push("#",this.fragment_),e.join("")},c.prototype.clone=function(){return new c(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},c.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},c.prototype.getRawScheme=function(){return this.scheme_},c.prototype.setScheme=function(e){return this.scheme_=s(e,m),this},c.prototype.setRawScheme=function(e){return this.scheme_=e?e:null,this},c.prototype.hasScheme=function(){return null!==this.scheme_},c.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},c.prototype.getRawCredentials=function(){return this.credentials_},c.prototype.setCredentials=function(e){return this.credentials_=s(e,m),this},c.prototype.setRawCredentials=function(e){return this.credentials_=e?e:null,this},c.prototype.hasCredentials=function(){return null!==this.credentials_},c.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},c.prototype.getRawDomain=function(){return this.domain_},c.prototype.setDomain=function(e){return this.setRawDomain(e&&encodeURIComponent(e))},c.prototype.setRawDomain=function(e){return this.domain_=e?e:null,this.setRawPath(this.path_)},c.prototype.hasDomain=function(){return null!==this.domain_},c.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},c.prototype.setPort=function(e){if(e){if(e=Number(e),e!==(65535&e))throw new Error("Bad port number "+e);this.port_=""+e}else this.port_=null;return this},c.prototype.hasPort=function(){return null!==this.port_},c.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},c.prototype.getRawPath=function(){return this.path_},c.prototype.setPath=function(e){return this.setRawPath(s(e,f))},c.prototype.setRawPath=function(e){return e?(e=String(e),this.path_=!this.domain_||/^\//.test(e)?e:"/"+e):this.path_=null,this},c.prototype.hasPath=function(){return null!==this.path_},c.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},c.prototype.getRawQuery=function(){return this.query_},c.prototype.setQuery=function(e){return this.paramCache_=null,this.query_=r(e),this},c.prototype.setRawQuery=function(e){return this.paramCache_=null,this.query_=e?e:null,this},c.prototype.hasQuery=function(){return null!==this.query_},c.prototype.setAllParameters=function(e){if("object"==typeof e&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t=[],r=-1;for(var s in e){var o=e[s];"string"==typeof o&&(t[++r]=s,t[++r]=o)}e=t}this.paramCache_=null;for(var a=[],n="",i=0;i<e.length;){var s=e[i++],o=e[i++];a.push(n,encodeURIComponent(s.toString())),n="&",o&&a.push("=",encodeURIComponent(o.toString()))}return this.query_=a.join(""),this},c.prototype.checkParameterCache_=function(){if(!this.paramCache_){var e=this.query_;if(e){for(var t=e.split(/[&\?]/),r=[],s=-1,o=0;o<t.length;++o){var a=t[o].match(/^([^=]*)(?:=(.*))?$/);r[++s]=decodeURIComponent(a[1]).replace(/\+/g," "),r[++s]=decodeURIComponent(a[2]||"").replace(/\+/g," ")}this.paramCache_=r}else this.paramCache_=[]}},c.prototype.setParameterValues=function(e,t){"string"==typeof t&&(t=[t]),this.checkParameterCache_();for(var r=0,s=this.paramCache_,o=[],a=0;a<s.length;a+=2)e===s[a]?r<t.length&&o.push(e,t[r++]):o.push(s[a],s[a+1]);for(;r<t.length;)o.push(e,t[r++]);return this.setAllParameters(o),this},c.prototype.removeParameter=function(e){return this.setParameterValues(e,[])},c.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},c.prototype.getParameterValues=function(e){this.checkParameterCache_();for(var t=[],r=0;r<this.paramCache_.length;r+=2)e===this.paramCache_[r]&&t.push(this.paramCache_[r+1]);return t},c.prototype.getParameterMap=function(){this.checkParameterCache_();for(var e={},t=0;t<this.paramCache_.length;t+=2){var r=this.paramCache_[t++],s=this.paramCache_[t++];r in e?e[r].push(s):e[r]=[s]}return e},c.prototype.getParameterValue=function(e){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(e===this.paramCache_[t])return this.paramCache_[t+1];return null},c.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},c.prototype.getRawFragment=function(){return this.fragment_},c.prototype.setFragment=function(e){return this.fragment_=e?encodeURIComponent(e):null,this},c.prototype.setRawFragment=function(e){return this.fragment_=e?e:null,this},c.prototype.hasFragment=function(){return null!==this.fragment_};var h=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),m=/[#\/\?@]/g,f=/[\#\?]/g;return c.parse=e,c.create=t,c.resolve=i,c.collapse_dots=n,c.utils={mimeTypeOf:function(t){var r=e(t);return/\.html$/.test(r.getPath())?"text/html":"application/javascript"},resolve:function(t,r){return t?i(e(t),e(r)).toString():""+r}},c}();"undefined"!=typeof s&&(s.URI=m);var f=void 0,g=void 0,b=void 0,E=void 0;if(function(){function e(e){return"string"==typeof e?'url("'+e.replace(T,t)+'")':y}function t(e){return P[e]}function r(e,t){return e?m.utils.resolve(e,t):t}function d(e,t,r){if(!r)return null;var s=(""+e).match(w);return!s||s[1]&&!x.test(s[1])?null:r(e,t)}var y='url("about:blank")',T=/[\n\f\r\"\'()*<>]/g,P={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},w=new RegExp("^(?:([^:/?# ]+):)?"),x=/^(?:https?|mailto)$/i;f=function(){function t(e){for(var t={},r=e.length;--r>=0;)for(var s=e[r],o=s.length;--o>=0;)t[s[o]]=u;return t}function s(e,t){for(var r=1,s=t+1,o=e.length;o>s&&r;){var a=e[s++];r+="("===a?1:")"===a?-1:0}return s}var u={};return function(p,m,f,g,b){for(var E=m.cssPropBits,L=E&(i|c),v=0/0,T=0,P=0;T<f.length;++T){var w,x,M,B,A,G,_,k=f[T].toLowerCase(),C=k.charCodeAt(0);k=C===" ".charCodeAt(0)?"":C==='"'.charCodeAt(0)?L===c&&g?e(d(r(b,h(f[T].substring(1,k.length-1))),p,g)):L===i?k:"":C==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(k)?E&a?k:"":"0".charCodeAt(0)<=C&&C<="9".charCodeAt(0)?E&o?E&l?k.match(/^\d{1,7}$/)?k:"":k:"":(w=k.charCodeAt(1),x=k.charCodeAt(2),M="0".charCodeAt(0)<=w&&w<="9".charCodeAt(0),B="0".charCodeAt(0)<=x&&x<="9".charCodeAt(0),C==="+".charCodeAt(0)&&(M||w===".".charCodeAt(0)&&B)?E&o?E&l?k.match(/^\+\d{1,7}$/)?k:"":(M?"":"0")+k.substring(1):"":C==="-".charCodeAt(0)&&(M||w===".".charCodeAt(0)&&B)?E&n?E&l?k.match(/^\-\d{1,7}$/)?k:"":(M?"-":"-0")+k.substring(1):E&o?"0":"":C===".".charCodeAt(0)&&M?E&o?"0"+k:"":"url("===k.substring(0,4)?g&&L&c?e(d(r(b,f[T].substring(5,k.length-2)),p,g)):"":("("===k.charAt(k.length-1)&&(A=s(f,T),f.splice(T,A-T,k=f.slice(T,A).join(" "))),G=m.cssLitGroup,_=G?m.cssLitMap||(m.cssLitMap=t(G)):u,_[k]===u||m.cssExtra&&m.cssExtra.test(k)?k:/^\w+$/.test(k)&&L===i?v+1===P?(f[v]=f[v].substring(0,f[v].length-1)+" "+k+'"',k=""):(v=P,'"'+k+'"'):"")),k&&(f[P++]=k)}1===P&&f[0]===y&&(P=0),f.length=P}}(),g=function(e,t,r){function s(s,o){function a(s,o){var a,n,i,p,d;if(a="",o>s)if(d=e[s],"*"===d)++s,a=d;else if(/^[a-zA-Z]/.test(d)){var h=r(d.toLowerCase(),[]);h&&("tagName"in h&&(d=h.tagName),++s,a=d)}for(n="";o>s;){if(d=e[s],"#"===d.charAt(0)){if(/^#_|__$|[^#0-9A-Za-z:_\-]/.test(d))return null;n+=d+"-"+t}else{if("."!==d)break;if(!(++s<o&&/^[0-9A-Za-z:_\-]+$/.test(d=e[s]))||/^_|__$/.test(d))return null;n+="."+d}++s}for(i="";o>s&&"["===e[s];){++s;var m=e[s++],f=v.ATTRIBS[a+"::"+m];if(f!==+f&&(f=v.ATTRIBS["*::"+m]),f!==+f)return null;var g="",b="";if(/^[~^$*|]?=$/.test(e[s])&&(g=e[s++],b=e[s++]),"]"!==e[s++])return null;switch(f){case v.atype.NONE:case v.atype.URI:case v.atype.URI_FRAGMENT:case v.atype.ID:case v.atype.IDREF:case v.atype.IDREFS:case v.atype.GLOBAL_NAME:case v.atype.LOCAL_NAME:case v.atype.CLASSES:if(g&&f!==v.atype.NONE)return null;i+="["+m+g+b+"]"}}if(p="",o>s&&":"===e[s])if(d=e[++s],l.test(d)){if(!/^[a*]?$/.test(a))return null;u=!0,p=":"+d,++s,a="a"}else c.test(d)&&(u=!1,p=":"+d,++s);return s===o?(a+n).replace(/[^ .*#\w-]/g,"\\$&")+i+p:null}var u=!1;" "===e[s]&&++s,o-1!==s&&" "===e[o]&&--o;for(var p=[],d=s,h="",m=s;o>m;++m){var f=e[m],g=">"===f;if(g||" "===f){if(h=a(d,m,!1),!h||g&&/^html/i.test(h))return;d=m+1,p.push(h,g?" > ":" ")}}if(h=a(d,o,!0)){p.push(h);var b=p.join("");b="."+t+" "+b,(u?n:i).push(b)}}var o,a,n=[],i=[],c=/^(active|after|before|first-child|first-letter|focus|hover)$/,l=/^(link|visited)$/,u=0,p=0;for(o=0;o<e.length;++o)a=e[o],("("==a||"["==a?(++p,0):")"==a||"]"==a?(p&&--p,0):" "==e[o]&&(p||">"==e[o-1]||">"==e[o+1]))||(e[u++]=e[o]);e.length=u;var d=e.length,h=0;for(o=0;d>o;++o)","===e[o]&&(s(h,o),h=o+1);return s(h,d),[i,n]},function(){function e(e){for(var t=!1,r=0,s=e.length;s-1>r;++r){var o=e[r];":"===e[r+1]&&(t=!(p[o].cssPropBits&u)),t&&(e[r]=""),";"===o&&(t=!1)}return e.join("")}function t(e){var t=/^url[(]["'](.*)["'][)]$/.exec(e);return t?t[1]:null}function o(i,c,l,u,h,m,b){function E(){P=0!==T.length&&null!==T[T.length-1]&&"@"!==T[T.length-1][0]}var y=void 0,v=!1,T=[],P=!1;return L(c,{startStylesheet:function(){y=[]},endStylesheet:function(){},startAtrule:function(e,c){if(P)e=null;else if("@media"===e)c=c.filter(function(e){return n[e]==a}),c.length?y.push(e," ",c.join(",")):e=null;else if("@import"===e&&c.length>0)if("function"==typeof b){v=!0;var p=d(r(i,t(c[0])),function(e){var t=o(p,e.html,l,u,h,m,b);b(t.result,t.moreToCome)},h);e=null}else s.console&&s.console.log("@import "+c.join(" ")+" elided"),e=null;P=!e,T.push(e)},endAtrule:function(){T.pop();P||y.push(";"),E()},startBlock:function(){P||y.push("{")},endBlock:function(){P||(y.push("}"),P=!0)},startRuleset:function(e){var t=void 0,r=!1;if(!P){var s=g(e,l,m),o=s[0];if(t=s[1],o.length||t.length){var a=o.join(", ");a||(a="head > html",r=!0),y.push(a,"{")}else P=!0}T.push(P?null:{historySensitiveSelectors:t,endOfSelectors:y.length-1,removeHistoryInsensitiveSelectors:r})},endRuleset:function(){var t=T.pop(),r=y.length;if(!P&&(y.push("}"),t)){var s=t.historySensitiveSelectors;if(s.length){var o=y.slice(t.endOfSelectors);y.push(s.join(", "),e(o))}}t&&t.removeHistoryInsensitiveSelectors&&y.splice(t.endOfSelectors-1,r+1),E()},declaration:function(e,t){if(!P){var r=p[e];r&&(f(e,r,t,u,i),t.length&&y.push(e,":",t.join(" "),";"))}}}),{result:y.join(""),moreToCome:v}}var a={},n={braille:a,embossed:a,handheld:a,print:a,projection:a,screen:a,speech:a,tty:a,tv:a};b=function(e,t,r,s,a){return o(e,t,r,s,void 0,a,void 0).result},E=function(e,t,r,s,a,n,i){return o(e,t,r,s,a,n,i)}}()}(),"undefined"!=typeof s&&(s.sanitizeCssProperty=f,s.sanitizeCssSelectors=g,s.sanitizeStylesheet=b),"i"!=="I".toLowerCase())throw"I/i problem";var L,y;!function(){function e(e,r,o,a){if(o>r){var n=e[r];return"@"===n.charAt(0)?t(e,r,o,a,!0):s(e,r,o,a)}return r}function t(e,t,s,o,a){for(var n=t++;s>t&&"{"!==e[t]&&";"!==e[t];)++t;if(s>t&&(a||";"===e[t])){var i=n+1,c=t;s>i&&" "===e[i]&&++i,c>i&&" "===e[c-1]&&--c,o.startAtrule&&o.startAtrule(e[n].toLowerCase(),e.slice(i,c)),t="{"===e[t]?r(e,t,s,o):t+1,o.endAtrule&&o.endAtrule()}return t}function r(e,o,a,n){for(++o,n.startBlock&&n.startBlock();a>o;){var i=e[o].charAt(0);if("}"==i){++o;break}" "===i||";"===i?o+=1:o="@"===i?t(e,o,a,n,!1):"{"===i?r(e,o,a,n):s(e,o,a,n)}return n.endBlock&&n.endBlock(),o}function s(e,t,r,s){var n=t,i=o(e,t,r,!0);if(0>i)return i=~i,t===i?i+1:i;t=i,i>n&&" "===e[i-1]&&--i;var c=e[t];if(++t,"{"!==c)return t;for(s.startRuleset&&s.startRuleset(e.slice(n,i));r>t;){if(c=e[t],"}"===c){++t;break}" "===c?t+=1:t=a(e,t,r,s)}return s.endRuleset&&s.endRuleset(),r>t?t+1:t}function o(e,t,r,s){for(var o,a=[],n=-1;r>t;++t)if(o=e[t].charAt(0),"["===o||"("===o)a[++n]=o;else if("]"===o&&"["===a[n]||")"===o&&"("===a[n])--n;else if("{"===o||"}"===o||";"===o||"@"===o||":"===o&&!s)break;return n>=0&&(t=~(t+1)),t}function a(e,t,r,s){var a=e[t++];if(!n.test(a))return t+1;var i;if(r>t&&" "===e[t]&&++t,t==r||":"!==e[t]){for(;r>t&&";"!==(i=e[t])&&"}"!==i;)++t;return t}++t,r>t&&" "===e[t]&&++t;var c=t,l=o(e,t,r,!1);if(0>l)l=~l;
else{for(var u=[],p=0,d=c;l>d;++d)i=e[d]," "!==i&&(u[p++]=i);if(r>l){do{if(i=e[l],";"===i||"}"===i)break;p=0}while(++l<r);";"===i&&++l}p&&s.declaration&&s.declaration(a.toLowerCase(),u)}return l}L=function(t,r){var s=d(t);r.startStylesheet&&r.startStylesheet();for(var o=0,a=s.length;a>o;)o=" "===s[o]?o+1:e(s,o,a,r);r.endStylesheet&&r.endStylesheet()};var n=/^-?[a-z]/i;y=function(e,t){for(var r=d(e),s=0,o=r.length;o>s;)s=" "!==r[s]?a(r,s,o,t):s+1}}(),"undefined"!=typeof s&&(s.parseCssStylesheet=L,s.parseCssDeclarations=y);var v={};if(v.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},v.atype=v.atype,v.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"select::tabindex":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::tabindex":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::width":0},v.ATTRIBS=v.ATTRIBS,v.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},v.eflags=v.eflags,v.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2},v.ELEMENTS=v.ELEMENTS,v.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},v.ELEMENT_DOM_INTERFACES=v.ELEMENT_DOM_INTERFACES,v.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},v.ueffects=v.ueffects,v.URIEFFECTS={"a::href":2,"area::href":2,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1},v.URIEFFECTS=v.URIEFFECTS,v.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},v.ltypes=v.ltypes,v.LOADERTYPES={"a::href":2,"area::href":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1},v.LOADERTYPES=v.LOADERTYPES,"undefined"!=typeof s&&(s.html4=v),"i"!=="I".toLowerCase())throw"I/i problem";var T=function(e){function t(e){if(C.hasOwnProperty(e))return C[e];var t=e.match(H);if(t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(S))return String.fromCharCode(parseInt(t[1],16));if(D&&R.test(e)){D.innerHTML="&"+e+";";var r=D.textContent;return C[e]=r,r}return"&"+e+";"}function r(e,r){return t(r)}function o(e){return e.replace(z,"")}function a(e){return e.replace(I,r)}function n(e){return(""+e).replace(N,"&amp;").replace($,"&lt;").replace(q,"&gt;").replace(U,"&#34;")}function i(e){return e.replace(F,"&amp;$1").replace($,"&lt;").replace(q,"&gt;")}function c(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,r){return l(e,t,r)}}function l(e,t,r){var s=d(e),o={noMoreGT:!1,noMoreEndComments:!1};p(t,s,0,o,r)}function u(e,t,r,s,o){return function(){p(e,t,r,s,o)}}function p(t,r,s,o,a){try{t.startDoc&&0==s&&t.startDoc(a);for(var n,i,c,l=s,p=r.length;p>l;){var d=r[l++],m=r[l];switch(d){case"&":O.test(m)?(t.pcdata&&t.pcdata("&"+m,a,V,u(t,r,l,o,a)),l++):t.pcdata&&t.pcdata("&amp;",a,V,u(t,r,l,o,a));break;case"</":(n=/^([-\w:]+)[^\'\"]*/.exec(m))?n[0].length===m.length&&">"===r[l+1]?(l+=2,c=n[1].toLowerCase(),t.endTag&&t.endTag(c,a,V,u(t,r,l,o,a))):l=h(r,l,t,a,V,o):t.pcdata&&t.pcdata("&lt;/",a,V,u(t,r,l,o,a));break;case"<":if(n=/^([-\w:]+)\s*\/?/.exec(m))if(n[0].length===m.length&&">"===r[l+1]){l+=2,c=n[1].toLowerCase(),t.startTag&&t.startTag(c,[],a,V,u(t,r,l,o,a));var b=e.ELEMENTS[c];if(b&Q){var E={name:c,next:l,eflags:b};l=g(r,E,t,a,V,o)}}else l=f(r,l,t,a,V,o);else t.pcdata&&t.pcdata("&lt;",a,V,u(t,r,l,o,a));break;case"<!--":if(!o.noMoreEndComments){for(i=l+1;p>i&&(">"!==r[i]||!/--$/.test(r[i-1]));i++);if(p>i){if(t.comment){var L=r.slice(l,i).join("");t.comment(L.substr(0,L.length-2),a,V,u(t,r,i+1,o,a))}l=i+1}else o.noMoreEndComments=!0}o.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",a,V,u(t,r,l,o,a));break;case"<!":if(/^\w/.test(m)){if(!o.noMoreGT){for(i=l+1;p>i&&">"!==r[i];i++);p>i?l=i+1:o.noMoreGT=!0}o.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",a,V,u(t,r,l,o,a))}else t.pcdata&&t.pcdata("&lt;!",a,V,u(t,r,l,o,a));break;case"<?":if(!o.noMoreGT){for(i=l+1;p>i&&">"!==r[i];i++);p>i?l=i+1:o.noMoreGT=!0}o.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",a,V,u(t,r,l,o,a));break;case">":t.pcdata&&t.pcdata("&gt;",a,V,u(t,r,l,o,a));break;case"":break;default:t.pcdata&&t.pcdata(d,a,V,u(t,r,l,o,a))}}t.endDoc&&t.endDoc(a)}catch(y){if(y!==V)throw y}}function d(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;if(e+="",Y)return e.split(t);for(var r,s=[],o=0;null!==(r=t.exec(e));)s.push(e.substring(o,r.index)),s.push(r[0]),o=r.index+r[0].length;return s.push(e.substring(o)),s}function h(e,t,r,s,o,a){var n=b(e,t);return n?(r.endTag&&r.endTag(n.name,s,o,u(r,e,t,a,s)),n.next):e.length}function f(e,t,r,s,o,a){var n=b(e,t);return n?(r.startTag&&r.startTag(n.name,n.attrs,s,o,u(r,e,n.next,a,s)),n.eflags&Q?g(e,n,r,s,o,a):n.next):e.length}function g(t,r,s,o,a,n){var c=t.length;Z.hasOwnProperty(r.name)||(Z[r.name]=new RegExp("^"+r.name+"(?:[\\s\\/]|$)","i"));for(var l=Z[r.name],p=r.next,d=r.next+1;c>d&&("</"!==t[d-1]||!l.test(t[d]));d++);c>d&&(d-=1);var h=t.slice(p,d).join("");if(r.eflags&e.eflags.CDATA)s.cdata&&s.cdata(h,o,a,u(s,t,d,n,o));else{if(!(r.eflags&e.eflags.RCDATA))throw new Error("bug");s.rcdata&&s.rcdata(i(h),o,a,u(s,t,d,n,o))}return d}function b(t,r){var s=/^([-\w:]+)/.exec(t[r]),o={};o.name=s[1].toLowerCase(),o.eflags=e.ELEMENTS[o.name];for(var a=t[r].substr(s[0].length),n=r+1,i=t.length;i>n&&">"!==t[n];n++)a+=t[n];if(n>=i)return void 0;for(var c=[];""!==a;)if(s=j.exec(a)){if(s[4]&&!s[5]||s[6]&&!s[7]){for(var l=s[4]||s[6],u=!1,p=[a,t[n++]];i>n;n++){if(u){if(">"===t[n])break}else 0<=t[n].indexOf(l)&&(u=!0);p.push(t[n])}if(n>=i)break;a=p.join("");continue}var d=s[1].toLowerCase(),h=s[2]?E(s[3]):"";c.push(d,h),a=a.substr(s[0].length)}else a=a.replace(/^[\s\S][^a-z\s]*/,"");return o.attrs=c,o.next=n+1,o}function E(e){var t=e.charCodeAt(0);return(34===t||39===t)&&(e=e.substr(1,e.length-2)),a(o(e))}function L(t){var r,s,o=function(e,t){s||t.push(e)};return c({startDoc:function(){r=[],s=!1},startTag:function(o,a,i){if(!s&&e.ELEMENTS.hasOwnProperty(o)){var c=e.ELEMENTS[o];if(!(c&e.eflags.FOLDABLE)){var l=t(o,a);if(!l)return void(s=!(c&e.eflags.EMPTY));if("object"!=typeof l)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in l))throw new Error("tagPolicy gave no attribs");a=l.attribs;var u,p;if("tagName"in l?(p=l.tagName,u=e.ELEMENTS[p]):(p=o,u=c),c&e.eflags.OPTIONAL_ENDTAG){var d=r[r.length-1];!d||d.orig!==o||d.rep===p&&o===p||i.push("</",d.rep,">")}c&e.eflags.EMPTY||r.push({orig:o,rep:p}),i.push("<",p);for(var h=0,m=a.length;m>h;h+=2){var f=a[h],g=a[h+1];null!==g&&void 0!==g&&i.push(" ",f,'="',n(g),'"')}i.push(">"),c&e.eflags.EMPTY&&!(u&e.eflags.EMPTY)&&i.push("</",p,">")}}},endTag:function(t,o){if(s)return void(s=!1);if(e.ELEMENTS.hasOwnProperty(t)){var a=e.ELEMENTS[t];if(!(a&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var n;if(a&e.eflags.OPTIONAL_ENDTAG)for(n=r.length;--n>=0;){var i=r[n].orig;if(i===t)break;if(!(e.ELEMENTS[i]&e.eflags.OPTIONAL_ENDTAG))return}else for(n=r.length;--n>=0&&r[n].orig!==t;);if(0>n)return;for(var c=r.length;--c>n;){var l=r[c].rep;e.ELEMENTS[l]&e.eflags.OPTIONAL_ENDTAG||o.push("</",l,">")}n<r.length&&(t=r[n].rep),r.length=n,o.push("</",t,">")}}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;r.length;r.length--)e.push("</",r[r.length-1].rep,">")}})}function y(e,t,r,s,o){if(!o)return null;try{var a=m.parse(""+e);if(a&&(!a.hasScheme()||X.test(a.getScheme()))){var n=o(a,t,r,s);return n?n.toString():null}}catch(i){return null}return null}function v(e,t,r,s,o){if(r||e(t+" removed",{change:"removed",tagName:t}),s!==o){var a="changed";s&&!o?a="removed":!s&&o&&(a="added"),e(t+"."+r+" "+a,{change:a,tagName:t,attribName:r,oldValue:s,newValue:o})}}function T(e,t,r){var s;return s=t+"::"+r,e.hasOwnProperty(s)?e[s]:(s="*::"+r,e.hasOwnProperty(s)?e[s]:void 0)}function P(t,r){return T(e.LOADERTYPES,t,r)}function w(t,r){return T(e.URIEFFECTS,t,r)}function x(t,r,s,o,a){for(var n=0;n<r.length;n+=2){var i,c=r[n],l=r[n+1],u=l,p=null;if(i=t+"::"+c,(e.ATTRIBS.hasOwnProperty(i)||(i="*::"+c,e.ATTRIBS.hasOwnProperty(i)))&&(p=e.ATTRIBS[i]),null!==p)switch(p){case e.atype.NONE:break;case e.atype.SCRIPT:l=null,a&&v(a,t,c,u,l);break;case e.atype.STYLE:if("undefined"==typeof G){l=null,a&&v(a,t,c,u,l);break}var d=[];G(l,{declaration:function(t,r){var o=t.toLowerCase(),a=k[o];a&&(_(o,a,r,s?function(t){return y(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:o},s)}:null),d.push(t+": "+r.join(" ")))}}),l=d.length>0?d.join(" ; "):null,a&&v(a,t,c,u,l);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:l=o?o(l):l,a&&v(a,t,c,u,l);break;case e.atype.URI:l=y(l,w(t,c),P(t,c),{TYPE:"MARKUP",XML_ATTR:c,XML_TAG:t},s),a&&v(a,t,c,u,l);break;case e.atype.URI_FRAGMENT:l&&"#"===l.charAt(0)?(l=l.substring(1),l=o?o(l):l,null!==l&&void 0!==l&&(l="#"+l)):l=null,a&&v(a,t,c,u,l);break;default:l=null,a&&v(a,t,c,u,l)}else l=null,a&&v(a,t,c,u,l);r[n+1]=l}return r}function M(t,r,s){return function(o,a){return e.ELEMENTS[o]&e.eflags.UNSAFE?void(s&&v(s,o,void 0,void 0,void 0)):{attribs:x(o,a,t,r,s)}}}function B(e,t){var r=[];return L(t)(e,r),r.join("")}function A(e,t,r,s){var o=M(t,r,s);return B(e,o)}var G,_,k;"undefined"!=typeof s&&(G=s.parseCssDeclarations,_=s.sanitizeCssProperty,k=s.cssSchema);var C={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:"Â "},H=/^#(\d+)$/,S=/^#x([0-9A-Fa-f]+)$/,R=/^[A-Za-z][A-za-z0-9]+$/,D="undefined"!=typeof s&&s.document?s.document.createElement("textarea"):null,z=/\0/g,I=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,O=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,N=/&/g,F=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,$=/[<]/g,q=/>/g,U=/\"/g,j=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),Y=3==="a,b".split(/(,)/).length,Q=e.eflags.CDATA|e.eflags.RCDATA,V={},Z={},X=/^(?:https?|mailto)$/i,W={};return W.escapeAttrib=W.escapeAttrib=n,W.makeHtmlSanitizer=W.makeHtmlSanitizer=L,W.makeSaxParser=W.makeSaxParser=c,W.makeTagPolicy=W.makeTagPolicy=M,W.normalizeRCData=W.normalizeRCData=i,W.sanitize=W.sanitize=A,W.sanitizeAttribs=W.sanitizeAttribs=x,W.sanitizeWithPolicy=W.sanitizeWithPolicy=B,W.unescapeEntities=W.unescapeEntities=a,W}(v);r.escapeAttrib=T.escapeAttrib,r.makeHtmlSanitizer=T.makeHtmlSanitizer,r.makeSaxParser=T.makeSaxParser,r.makeTagPolicy=T.makeTagPolicy,r.normalizeRCData=T.normalizeRCData,r.sanitize=T.sanitize,r.sanitizeAttribs=T.sanitizeAttribs,r.sanitizeWithPolicy=T.sanitizeWithPolicy,r.unescapeEntities=T.unescapeEntities},{}],3:[function(e,t){t.exports=function(e,t,r){return{type:e||"text",content:t||"",children:r||[]}}},{}],4:[function(e,t){var r=e("./fnode"),s=e("./utils"),o={plugins:{},options:{},utils:s};o.use=function(){var e=_.toArray(arguments),t=_.pluck(e,"name");return _.each(e,_.bind(o.addPlugin,o)),this.options.plugin_order=t,this},o.setOptions=function(e){return o.options=e,o.getOptions()},o.getOptions=function(){if(!_.isArray(o.options.plugin_order)){var e=_.pluck(o.plugins,"name").join(", ");throw new Error("Missing plugin_order array. Available plugins: "+e)}return o.options},o.addPlugin=function(e){if(!e.name)throw new Error("plugin missing name");this.plugins[e.name]=e},o.getPlugin=function(e){return this.plugins[e]},o.getPluginsInOrder=function(){return _.map(o.getOptions().plugin_order,function(e){var t=o.getPlugin(e);if(!t)throw new Error("Missing plugin: "+e);return t})},o.getParserChain=function(){return _.reduceRight(o.getPluginsInOrder(),function(e,t){return t.parser&&e.unshift(_.partial(t.parser,_.first(e))),e},[])},o.runParsers=function(e){return o.getParserChain()[0](e)},o.runTreeManipulators=function(e){return _.each(o.getPluginsInOrder(),function(t){t.treeManipulator&&t.treeManipulator(e)}),e},o.runformatters=function(e){return _.map(e,function(e){var t=o.getPlugin(e.type);return t.formatter(e)}).join("")},o.format=_.compose(o.runformatters,o.runTreeManipulators,o.runParsers),o.fnode=r,t.exports=o},{"./fnode":3,"./utils":7}],5:[function(e,t){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},s=e("google-caja"),o={name:"sanitize",parser:function(e,t){var r=s.sanitize(t);return e(r)}};t.exports=o,r.formatter&&formatter.addPlugin(o)},{"google-caja":2}],6:[function(e,t){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},s=e("../fnode"),o={name:"text",parser:function(e,t){return[s("text",t)]},formatter:function(e){return String(e.content)}};t.exports=o,r.formatter&&formatter.addPlugin(o)},{"../fnode":3}],7:[function(e,t){var r={};r.bfSearch=function(e,t,s){_.each(e,function(e){t.call(s,e),r.bfSearch(e.children,t,s)},s)},t.exports=r},{}]},{},[1])(1)});